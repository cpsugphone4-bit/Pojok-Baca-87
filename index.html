<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pojok Baca 87</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      background: #f4fbff;
      color: #333;
    }
    header {
      background: linear-gradient(90deg, #00bfa5, #1de9b6);
      color: white;
      padding: 1rem;
      text-align: center;
      font-size: 1.5rem;
      font-weight: bold;
      box-shadow: 0 3px 8px rgba(0,0,0,0.2);
    }
    main {
      padding: 20px;
      max-width: 1000px;
      margin: auto;
    }
    h2 {
      border-left: 5px solid #00bfa5;
      padding-left: 10px;
      color: #00796b;
    }
    .search-box {
      display: flex;
      margin-bottom: 20px;
    }
    .search-box input {
      flex: 1;
      padding: 10px;
      border: 2px solid #00bfa5;
      border-radius: 8px 0 0 8px;
      outline: none;
    }
    .search-box button {
      background: #00bfa5;
      border: none;
      color: white;
      padding: 10px 15px;
      border-radius: 0 8px 8px 0;
      cursor: pointer;
    }
    .search-box button:hover {
      background: #00796b;
    }
    .book-item {
      background: white;
      padding: 15px;
      margin: 10px 0;
      border-radius: 10px;
      box-shadow: 0 3px 6px rgba(0,0,0,0.1);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .book-item button, .book-item a {
      margin-left: 10px;
      padding: 6px 12px;
      border-radius: 6px;
      border: none;
      cursor: pointer;
    }
    .book-item button {
      background: #00bfa5;
      color: white;
    }
    .book-item a {
      background: #e0f7fa;
      color: #00796b;
      text-decoration: none;
    }
    iframe {
      width: 100%;
      height: 500px;
      border: none;
      margin-top: 20px;
      border-radius: 10px;
      box-shadow: 0 3px 8px rgba(0,0,0,0.2);
    }
    .timer, .history, .gallery {
      background: white;
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 3px 6px rgba(0,0,0,0.1);
      margin: 20px 0;
    }
    .timer button {
      margin: 5px;
      padding: 8px 14px;
      border-radius: 8px;
      border: none;
      cursor: pointer;
      background: #00bfa5;
      color: white;
    }
    .gallery-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px,1fr));
      gap: 10px;
    }
    .gallery-grid img {
      width: 100%;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.2);
      transition: transform 0.3s;
    }
    .gallery-grid img:hover {
      transform: scale(1.05);
    }
  </style>
</head>
<body>
  <header>üìö Pojok Baca 87</header>
  <main>
    <section>
      <h2>Pencarian Buku</h2>
      <div class="search-box">
        <input type="text" id="searchInput" placeholder="Cari buku...">
        <button onclick="searchBooks()">Cari</button>
      </div>
      <div id="results"></div>
      <iframe id="pdfViewer"></iframe>
    </section>

    <section class="timer">
      <h2>‚è± Timer Membaca</h2>
      <div id="timerDisplay">00:00</div>
      <button onclick="startTimer()">Mulai</button>
      <button onclick="pauseTimer()">Jeda</button>
      <button onclick="resetTimer()">Reset</button>
    </section>

    <section class="history">
      <h2>üìú Riwayat Membaca</h2>
      <ul id="historyList"></ul>
    </section>

    <section class="gallery">
      <h2>üñº Gallery Pojok Baca</h2>
      <div class="gallery-grid">
        <img src="https://i.postimg.cc/JhP0HkX2/20250819-123403.jpg" alt="Rak Buku">
        <img src="https://i.postimg.cc/tR1dyqQj/20250819-123536.jpg" alt="Sudut Membaca">
      </div>
    </section>
  </main>

  <script>
    let timerInterval;
    let seconds = 0;

    function updateTimerDisplay() {
      const m = String(Math.floor(seconds / 60)).padStart(2, '0');
      const s = String(seconds % 60).padStart(2, '0');
      document.getElementById("timerDisplay").innerText = `${m}:${s}`;
    }
    function startTimer() {
      if (timerInterval) return;
      timerInterval = setInterval(() => {
        seconds++;
        updateTimerDisplay();
      }, 1000);
    }
    function pauseTimer() {
      clearInterval(timerInterval);
      timerInterval = null;
    }
    function resetTimer() {
      pauseTimer();
      seconds = 0;
      updateTimerDisplay();
    }

    function saveHistory(title) {
      const list = document.getElementById("historyList");
      const li = document.createElement("li");
      const now = new Date();
      li.textContent = `${title} - ${now.toLocaleString()}`;
      list.appendChild(li);
    }

    async function searchBooks() {
      const q = document.getElementById("searchInput").value;
      const res = await fetch(`https://www.googleapis.com/books/v1/volumes?q=${encodeURIComponent(q)}&maxResults=10`);
      const data = await res.json();
      const results = document.getElementById("results");
      results.innerHTML = "";

      data.items.forEach(it => {
        const pdfLink = it.accessInfo?.pdf?.downloadLink;
        if (pdfLink) {
          const div = document.createElement("div");
          div.className = "book-item";
          div.innerHTML = `
            <span><b>${it.volumeInfo.title}</b></span>
            <span>
              <button onclick="showBook('${it.volumeInfo.title}','${pdfLink}')">Baca</button>
              <a href="${pdfLink}" target="_blank">Buka</a>
            </span>
          `;
          results.appendChild(div);
        }
      });
    }

    function showBook(title, url) {
      const viewer = document.getElementById("pdfViewer");
      viewer.src = `https://docs.google.com/gview?embedded=true&url=${encodeURIComponent(url)}`;
      saveHistory(title);
    }
  </script>
</body>
</html>  pdfViewer.src=`https://docs.google.com/gview?embedded=true&url=${encodeURIComponent(url)}`;
}
</script>
</body>
</html>
